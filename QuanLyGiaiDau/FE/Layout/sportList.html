<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="/css/main.css">

    <title>Danh Sách Môn Thể Thao</title>
</head>

<body>
    <header class="header bg">
        <div class="container text-white">
            <div class="row">
                <div class="col-sm-4 align-self-center text-left">
                    <h6>HUTECH GAME</h6>
                </div>
                <div class="col-sm-4 col-12 align-self-center box-1 text-center">
                    <a class="navbar-brand" href="index.html"><img src="/images/header-logo.png" alt="logo" width="220" height="90"></a>
                </div>
                <div class="col-sm-4 align-self-center text-right">
                    <div class="social-icons">
                        <a href="https://www.facebook.com/"><i class="fa fa-facebook-official" aria-hidden="true"></i></a>
                        <a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                        <a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a>
                        <a href="#"><i class="fa fa-youtube" aria-hidden="true"></i></a>
                    </div>
                </div>
            </div>
            <!--/row-->
        </div>
        <!--container-->
    </header>
    <section class="section-1">
        <table id="sports-table">
            <thead>
                <tr>
                    <th>Mã Môn Thể Thao</th>
                    <th>Tên Môn Thể Thao</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>

    </section>
    <h1>Danh sách môn thể thao</h1>
    
    <section class="section-7">
        <!-- Footer -->
        <footer class="page-footer font-small stylish-color-dark">

            <!-- Footer Links -->
            <div class="container text-center text-md-left">

                <!-- Grid row -->
                <div class="row">

                    <!-- Grid column -->
                    <div class="col-lg-5 col-sm-12 mx-auto box-1">

                        <!-- Content -->
                        <a href="/index.html"><img src="/images/header-logo.png" alt="logo" width="180" height="52"></a>
                        <p>text ...</p>

                    </div>
                    <!-- Grid column -->

                    <hr class="clearfix w-100 d-md-none">

                    <!-- Grid column -->
                    <div class="col-lg-2 col-sm-4 box-2 mx-auto">

                        <!-- Links -->
                        <h5>Site Navigation</h5>

                        <ul class="list-unstyled">
                            <li>
                                <a href="/index.html">go to home</a>
                            </li>
                            <li>
                                <a href="/services.html">services</a>
                            </li>
                            <li>
                                <a href="/portfolio.html">portfolio</a>
                            </li>
                            <li>
                                <a href="/blog.html">read blog</a>
                            </li>
                            <li>
                                <a href="/contact.html">contact us</a>
                            </li>
                            <li>
                                <a href="/contact.html">product support</a>
                            </li>
                        </ul>

                    </div>
                    <!-- Grid column -->

                    <hr class="clearfix w-100 d-md-none">

                    <!-- Grid column -->
                    <div class="col-lg-2 col-sm-4 box-3 mx-auto">

                        <!-- Links -->
                        <h5>information</h5>

                        <ul class="list-unstyled">
                            <li>
                                <a href="#!">user login</a>
                            </li>
                            <li>
                                <a href="#!">creat new account</a>
                            </li>
                            <li>
                                <a href="#!">checkout</a>
                            </li>
                            <li>
                                <a href="#!">my cart</a>
                            </li>
                            <li>
                                <a href="#!">other information</a>
                            </li>
                        </ul>

                    </div>
                    <!-- Grid column -->

                    <hr class="clearfix w-100 d-md-none">

                    <!-- Grid column -->
                    <div class="col-lg-2 col-sm-4 box-4 mx-auto">

                        <!-- Links -->
                        <h5>policies & Info</h5>

                        <ul class="list-unstyled">
                            <li>
                                <a href="#!">Terms Conditions </a>
                            </li>
                            <li>
                                <a href="#!">website polocy</a>
                            </li>
                            <li>
                                <a href="#!">Policy for Sellers </a>
                            </li>
                            <li>
                                <a href="#!">Policy for Buyers</a>
                            </li>
                            <li>
                                <a href="#!">Shipping & Refund </a>
                            </li>
                            <li>
                                <a href="#!">Wholesale Policy</a>
                            </li>
                        </ul>

                    </div>
                    <!-- Grid column -->

                </div>
                <!-- Grid row -->

            </div>
            <!-- Footer Links -->

            <!-- Copyright -->
            <div class="footer-copyright text-center">
                <div class="gradient"></div>
                <p>© 2023 - Quản Lý Hội Thao HUTECH</p>
            </div>
            <!-- Copyright -->

        </footer>
        <!-- Footer -->
    </section>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.js"></script>
    <script src="/js/animate.js"></script>
    <script src="/js/custom.js"></script>
</body>
    <script>
        displaySports();
        function displaySports() {
            fetch('http://localhost:26310/api/MonTheThaos')
                .then(response => response.json())
                .then(data => {
                    const tableBody = document.querySelector('#sports-table tbody');
                    tableBody.innerHTML = '';

                    data.forEach(MonTheThao => {
                        const row = document.createElement('tr');
                        
                       console.log(MonTheThao);
                        row.innerHTML = `
                    <td id="id-mtt">${MonTheThao.idMonTheThao}</td>
                    <input id="ten-mtt" type="text" value="${MonTheThao.tenMonTheThao}"></input>
                    <td>
            <button type="submit" onClick()>Sửa</button>
            <button type="submit" onClick()>Xóa</button>
            
          </td>
                `;

                        tableBody.appendChild(row);
                        
                    });
                })
                .catch(error => console.error(error));
        }
//         function editSport(sport) {
//     updateSport(sport)
//     .then(() => {
//         window.location.href = '/sportList.html';
//     })
//     .catch(error => {
//         console.error(error);
//     });
// }
// function updateSport(sport) {
//     return fetch(`http://localhost:26310/api/MonTheThaos`, {
//         method: 'PUT',
//         headers: {
//             'Content-Type': 'application/json'
//         },
//         body: JSON.stringify(sport)
//     })
//     .then(response => {
//         if (!response.ok) {
//             throw new Error('Cập nhật môn thể thao không thành công');
//         }
//     });
// }

const tableBody = document.querySelector('#sports-table tbody');
tableBody.addEventListener('submit', function(event) {
            event.preventDefault();
            const idMonTheThao = document.querySelector('#id-mtt').value;
            const tenMonTheThao = document.querySelector('#ten-mtt').value;
            fetch('http://localhost:26310/api/MonTheThaos', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ idMonTheThao, tenMonTheThao })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Chỉnh sửa thất bại');
                }
                return response.json();
                window.location.href = '/sportList.html';
            })
            .catch(error => {
                console.error(error);
                alert(error.message);
            });
        });
    </script>
